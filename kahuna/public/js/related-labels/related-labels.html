<div class="related-labels">
    <div class="related-labels__title">
        <form ng:submit="ctrl.setCollection()">
            <label for="collection-name">Collection:</label>
            <gr-datalist class="related-labels__datalist inline-block"
                         gr:search="ctrl.suggestedLabelSearch(q)">
                <!-- TODO: autogrow this element -->
                <input class="related-labels__parent" type="text"
                       placeholder="e.g. g2features"
                       id="collection-name"
                       ng:model="ctrl.collection"
                       ng:model-options="{ updateOn: 'gr:datalist:update' }"
                       ng:change="ctrl.setCollection()"
                       gr:datalist-input />
            </gr-datalist>
        </form>
    </div>
    <ul class="flex-container related-labels__labels">
        <li class="related-labels__label" ng:repeat="relatedLabel in ctrl.relatedLabels">
            <div ng:switch="relatedLabel.selected">
                <button class="related-labels__label-text related-labels__label-text--selected"
                        ng:switch-when="true"
                        ng:click="ctrl.removeSuggestedLabel(relatedLabel)"
                        gr:track-click="Related label remove"
                        gr:track-click-data="{'Label': relatedLabel.name}">
                        {{relatedLabel.name}}
                </button>
                <button class="related-labels__label-text"
                        ng:switch-when="false"
                        ng:click="ctrl.switchSuggestedLabelTo(relatedLabel)"
                        gr:track-click="Related label select"
                        gr:track-click-data="{'Label': relatedLabel.name}">
                        {{relatedLabel.name}}
                </button>
            </div>
        </li>
    </ul>
</div>
